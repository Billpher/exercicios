const valorAnterior=document.querySelector("#valorAnt"),valoAtual=document.querySelector("#valorAtu"),botoes=document.querySelectorAll("#botoes button");class Calculadora{constructor(a,t){this.valorAnterior=a,this.valoAtual=t,this.contaAtual=""}adicionarNumero(a){"."===a&&this.valoAtual.innerText.includes(".")||(this.contaAtual=a,this.atualizarTela())}operacoes(t){if(""===this.valoAtual.innerText&&"Limpar"!==t)""!==this.valorAnterior.innerText&&this.trocarOperacao(t);else{let a;var e=+this.valorAnterior.innerText.split(" ")[0],r=+this.valoAtual.innerText;switch(t){case"+":a=e+r,this.atualizarTela(a,t,r,e);break;case"-":a=e-r,this.atualizarTela(a,t,r,e);break;case"*":a=e*r,this.atualizarTela(a,t,r,e);break;case"/":a=e/r,this.atualizarTela(a,t,r,e);break;case"Apagar":this.oparacaoApagarAtual();break;case"Limpar":this.operacaoLimpar();break;case"=":this.opercaoResultado();break;default:return}}}atualizarTela(a=null,t=null,e=null,r=null){null===a?this.valoAtual.innerText+=this.contaAtual:(this.valorAnterior.innerText=(a=0===r?e:a)+" "+t,this.valoAtual.innerText="")}trocarOperacao(a){["*","-","+","/"].includes(a)&&(this.valorAnterior.innerText=this.valorAnterior.innerText.slice(0,-1)+a)}oparacaoApagarAtual(){this.valoAtual.innerText=""}operacaoLimpar(){this.valoAtual.innerText="",this.valorAnterior.innerText=""}opercaoResultado(){var a=this.valorAnterior.innerText.split(" ")[1];this.operacoes(a)}}const calc=new Calculadora(valorAnterior,valoAtual);botoes.forEach(a=>{a.addEventListener("click",a=>{a=a.target.innerText;0<=+a||"."===a?(console.log(a),calc.adicionarNumero(a)):calc.operacoes(a)})});